{% extends 'layouts/admin/layout.html' %}

{% block css_extra %}
	<link rel="stylesheet" type="text/css" href="/admin/css/admin.css">
{% endblock %}

{% block title %}
	<title>{{ adminPanelTitle }} / Пользователи</title>
{% endblock %}

{% block body %}
	<section class="section">
	    <div class="container is-fluid">
	    	<div class="columns is-variable is-3">
	    		<div class="column is-two-fifths">
	    			<div class="box is-radiusless">
	    				{% include 'templates/partials/admin/adminSidebar.html' %}
	    			</div>
	    		</div>

	    		<div class="column">
	    			<div class="box is-radiusless">
	    				<h1 class="title is-4">Пользователи</h1>

	    				<hr>
	    				{% if users.length > 0 %}
		    				{% for user in users %}
		    					<p>
		    						<strong>#{{ loop.index }} {{ user.login }}</strong>

		    						/

		    						{% if user.role == 'administrator' %}
		    							<span class="has-text-danger">Администратор</span>
		    						{% elseif user.role == 'moderator' %}
		    							<span class="has-text-info">Модератор</span>
		    						{% else %}
		    							Неизвестный тип
		    						{% endif %}		

		    						/ 

		    						<a href="/admin-panel/users/edit/{{ user.user_id }}">Редактировать</a> 

		    						/ 

		    						<a href="/admin-panel/users/delete/{{ user.user_id }}">Удалить</a>
		    					</p>

		    					<hr>
		    				{% endfor %}
	    				{% else %}
	    					Пользователи не найдены!
	    				{% endif %}
	    			</div>
		    	</div>
	    	</div>
    	</div>
	</section>
{% endblock %}

{% block js_extra %}
	<script src="/admin/js/ajax.js"></script>
	<script src="/admin/js/ajaxUsers.js"></script>
{% endblock %}